!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.E=n()}(this,function(){"use strict";function e(e){return new h(e)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),o=function(e){return"object"===(void 0===e?"undefined":n(e))&&(e instanceof window.Node||i(e))},i=function(e){return"object"===(void 0===e?"undefined":n(e))&&e.window===e},a=function(e,n,t,r){"boolean"!=typeof r&&(r=!1),e.addEventListener?e.addEventListener(n,t,r):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t},f=function(e,n,t){e.removeEventListener?e.removeEventListener(n,t):e.attachEvent?e.detachEvent("on"+n,t):e["on"+n]=null},u=function(e){return document.querySelectorAll(e)},l=new(Map||function e(){t(this,e);var n,r={},o=[],i=[],a={},f=!1;this.set=function(e,t){if("string"==typeof e)r[e]=t;else if("number"==typeof e&&isNaN(e))n=t,f=!0;else{var u=o.indexOf(e);-1===u?(u=o.length,o.push(e),a[u]=i.length,i.push(t)):i[a[u]]=t}return this},this.get=function(e){if("string"==typeof e)return r[e];if("number"==typeof e&&isNaN(e))return n;var t=o.indexOf(e);return-1===t?void 0:i[a[t]]},this.has=function(e){if("string"==typeof e)return r.hasOwnProperty(e);if("number"==typeof e&&isNaN(e))return f;var n=o.indexOf(e);return a.hasOwnProperty(n)},this.delete=function(e){if(this.has(e)){var t;if("string"==typeof e)t=r[e],delete r[e];else if("number"==typeof e&&isNaN(e))f=!1,t=n,n=void 0;else{var u=o.indexOf(e),l=a[u];delete a[u],o.splice(u,1),t=i.splice(l,1)}return t}}}),s=function(e){var n=e.$$e||l.get(e);return n||(n={target:e,ts:(new Date).getTime(),handlers:{},realHandler:function(n){return d(this,e,n.type,Array.from(arguments))}},o(e)&&(e.$$e=n),l.set(e,n)),n},c=function(e){var n="___default___",t=e.indexOf(".");return-1!=t&&(n=e.substr(t+1,e.length),e=e.substr(0,t)),{type:e,namespace:n}},d=function(e,n,t,r){"production"!==process.env.NODE_ENV&&console.log((new Date).getTime());var o,i,a,f=(n.$$e||l.get(n)).handlers[t];for(a in f)if(o=f[a],Array.isArray(o))o.forEach(function(n){var t=n.apply(e,r);"boolean"==typeof t&&(i="boolean"==typeof i?i&&t:t)});else{var u=o.apply(e,r);"boolean"==typeof u&&(i="boolean"==typeof i?i&&u:u)}return"production"!==process.env.NODE_ENV&&console.log((new Date).getTime()),i},p=function(e,n,t){var r=c(n),i=r.namespace,f=r.type,u=s(e);o(e)&&!u.handlers[f]&&a(e,f,u.realHandler),u.handlers[f]=u.handlers[f]||{},"___default___"===i?(u.handlers[f][i]=u.handlers[f][i]||[],u.handlers[f][i].push(t)):u.handlers[f][i]=t},y=function(e,n){var t=c(n),r=t.namespace,i=t.type,a=s(e),u=a.handlers[i];a&&u&&("___default___"===r?(delete a.handlers[i],o(e)&&f(e,i,a.realHandler),l.delete(e)):delete u[r])},h=function(){function e(r){if(t(this,e),this.length=0,"string"==typeof r){var o=u(r);if(o.length>0){var i=this;Array.prototype.forEach.call(o,function(e){i[i.length]=e,i.length++})}}else"object"===(void 0===r?"undefined":n(r))?this[0]=r:console.error("不支持对非object类型的数据进行事件绑定")}return r(e,[{key:"on",value:function(){var e,n=Array.from(arguments),t=this.length;for(e=0;e<t;e++)p.apply(null,[this[e]].concat(n))}},{key:"off",value:function(){var e,n=Array.from(arguments),t=this.length;for(e=0;e<t;e++)y.apply(null,[this[e]].concat(n))}},{key:"trigger",value:function(){}}]),e}();return e.version="0.1.0",e.on=p,e.off=y,e.trigger=function(e,n){},e});
//# sourceMappingURL=index.js.map
